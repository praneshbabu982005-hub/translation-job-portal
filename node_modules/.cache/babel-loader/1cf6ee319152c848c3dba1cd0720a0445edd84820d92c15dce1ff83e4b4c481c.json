{"ast":null,"code":"import React,{useEffect,useState,useContext}from'react';import{AuthContext}from'../App';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Profile(){const{token}=useContext(AuthContext);const[user,setUser]=useState(null);const[appliedJobs,setAppliedJobs]=useState([]);useEffect(()=>{fetch('http://localhost:5000/api/auth/me',{headers:{'Authorization':\"Bearer \".concat(token)}}).then(res=>res.json()).then(data=>setUser(data));fetch('http://localhost:5000/api/jobs').then(res=>res.json()).then(jobs=>{const applied=jobs.filter(j=>j.applicants&&j.applicants.some(a=>a.email===(user===null||user===void 0?void 0:user.email)));setAppliedJobs(applied);});},[token,user===null||user===void 0?void 0:user.email]);if(!user)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading profile...\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Profile\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Email:\"}),\" \",user.email]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Applied Jobs\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[appliedJobs.length===0&&/*#__PURE__*/_jsx(\"li\",{children:\"No jobs applied yet.\"}),appliedJobs.map(job=>/*#__PURE__*/_jsxs(\"li\",{children:[job.title,\" at \",job.company]},job._id))]})]});}export default Profile;","map":{"version":3,"names":["React","useEffect","useState","useContext","AuthContext","jsx","_jsx","jsxs","_jsxs","Profile","token","user","setUser","appliedJobs","setAppliedJobs","fetch","headers","concat","then","res","json","data","jobs","applied","filter","j","applicants","some","a","email","children","length","map","job","title","company","_id"],"sources":["C:/Users/prane/OneDrive/Desktop/ad/translation-job-portal/src/pages/Profile.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport { AuthContext } from '../App';\r\n\r\nfunction Profile() {\r\n  const { token } = useContext(AuthContext);\r\n  const [user, setUser] = useState(null);\r\n  const [appliedJobs, setAppliedJobs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:5000/api/auth/me', {\r\n      headers: { 'Authorization': `Bearer ${token}` }\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => setUser(data));\r\n    fetch('http://localhost:5000/api/jobs')\r\n      .then(res => res.json())\r\n      .then(jobs => {\r\n        const applied = jobs.filter(j => j.applicants && j.applicants.some(a => a.email === user?.email));\r\n        setAppliedJobs(applied);\r\n      });\r\n  }, [token, user?.email]);\r\n\r\n  if (!user) return <div>Loading profile...</div>;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Profile</h2>\r\n      <p><b>Email:</b> {user.email}</p>\r\n      <h3>Applied Jobs</h3>\r\n      <ul>\r\n        {appliedJobs.length === 0 && <li>No jobs applied yet.</li>}\r\n        {appliedJobs.map(job => (\r\n          <li key={job._id}>{job.title} at {job.company}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CAC9D,OAASC,WAAW,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErC,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACjB,KAAM,CAAEC,KAAM,CAAC,CAAGP,UAAU,CAACC,WAAW,CAAC,CACzC,KAAM,CAACO,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACW,WAAW,CAAEC,cAAc,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAElDD,SAAS,CAAC,IAAM,CACdc,KAAK,CAAC,mCAAmC,CAAE,CACzCC,OAAO,CAAE,CAAE,eAAe,WAAAC,MAAA,CAAYP,KAAK,CAAG,CAChD,CAAC,CAAC,CACCQ,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,EAAIT,OAAO,CAACS,IAAI,CAAC,CAAC,CAC9BN,KAAK,CAAC,gCAAgC,CAAC,CACpCG,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACI,IAAI,EAAI,CACZ,KAAM,CAAAC,OAAO,CAAGD,IAAI,CAACE,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACC,UAAU,EAAID,CAAC,CAACC,UAAU,CAACC,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,KAAK,IAAKlB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,KAAK,EAAC,CAAC,CACjGf,cAAc,CAACS,OAAO,CAAC,CACzB,CAAC,CAAC,CACN,CAAC,CAAE,CAACb,KAAK,CAAEC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,KAAK,CAAC,CAAC,CAExB,GAAI,CAAClB,IAAI,CAAE,mBAAOL,IAAA,QAAAwB,QAAA,CAAK,oBAAkB,CAAK,CAAC,CAE/C,mBACEtB,KAAA,QAAAsB,QAAA,eACExB,IAAA,OAAAwB,QAAA,CAAI,SAAO,CAAI,CAAC,cAChBtB,KAAA,MAAAsB,QAAA,eAAGxB,IAAA,MAAAwB,QAAA,CAAG,QAAM,CAAG,CAAC,IAAC,CAACnB,IAAI,CAACkB,KAAK,EAAI,CAAC,cACjCvB,IAAA,OAAAwB,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBtB,KAAA,OAAAsB,QAAA,EACGjB,WAAW,CAACkB,MAAM,GAAK,CAAC,eAAIzB,IAAA,OAAAwB,QAAA,CAAI,sBAAoB,CAAI,CAAC,CACzDjB,WAAW,CAACmB,GAAG,CAACC,GAAG,eAClBzB,KAAA,OAAAsB,QAAA,EAAmBG,GAAG,CAACC,KAAK,CAAC,MAAI,CAACD,GAAG,CAACE,OAAO,GAApCF,GAAG,CAACG,GAAqC,CACnD,CAAC,EACA,CAAC,EACF,CAAC,CAEV,CAEA,cAAe,CAAA3B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}